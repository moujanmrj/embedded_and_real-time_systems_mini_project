# embedded_and_real-time_systems_mini_project

# General description:
In this project, 2 tasks are performed, one is the ADC task in which the analog value of the speed is taken (analog to digital converter) and the other is the ultrasonic task in which the obstacle distance is calculated. These two tasks are from a single resource (shared resource) for The data display uses the LCD. Semaphores are used to ensure that only one task at a time uses the LCD to display data. Using a semaphore also ensures task synchronization. First, the ADC task acquires the semaphore and the value displays on the LCD. Releases the semaphore before the ADC finishes. Now gives control to the ultrasonic task. and gets the semaphore, calculates the distance and sends it to the LCD for display. Again, it releases the semaphore before finishing. The whole process is repeated and gives the real-time data of the ADC and the ultrasonic sensor. On the software side, we have added the FreeRTOS and semaphore libraries using #include preprocessor directives. The code part is written in C using Arduino IDE and software simulation in Proteus. The code is fully commented. And this system is embedded in a machine.


# Code description:
First, the handler defines the semaphore and the tasks, and then starts the serial communication and activates the LCD display. The next step is to define 2 tasks, each task includes features such as task function, task name, stack size, and task priority. In the first task function, in a for loop, define a variable to store the ADC value and read the ADC value from the A0 channel and store it in the ADC variable, then take the semaphore and display the desired value and print it in the terminal. Now he has given the semaphore to another task, which is the ultrasonic task. In the second task function, in the for loop 2, define the interval and duration variables. In the duration variable, the time that the pin was high is stored, and in the interval variable, the duration value must be divided by 2, because the signal after sending it goes back and multiplies at the speed of sound. Now the semaphore is taken and the distance is displayed on the LCD and the semaphore is released. The algorithm used is fixed priority, which is assigned to the semaphore according to the priority of the tasks.
